class YOUTUBE{constructor(t,e,i,a){this.idDom=t,this.status=e,this.title=i,this.ended=a,this.YTPlayer=null,this.YTStarted=!1,this.list=!1,this.playerVars={controls:0,hl:config.language,enablejsapi:1,rel:0,cc_load_policy:0,showinfo:0,disablekb:1,fs:0,iv_load_policy:3,modestbranding:1},this.state={"-1":"Video unstarted",0:"Video ended",1:"Video playing",2:"Video paused",3:"Video buffering",5:"Video cued"},this.err={2:"Invalid Parameter",5:"HTML5 Player Error",100:"Video Not Found (removed or privated)",101:"Not Allowed By Owner",150:"Not Allowed By Owner"},this.errorYT=!1,console.log("[A2D] YOUTUBE Class Loaded")}init(){this.YTPlayer=new YT.Player(this.idDom,this.makeOptions()),A2D("YOUTUBE API is ready.")}makeOptions(t={}){return t.playerVars=Object.assign({},this.playerVars),t.events={},t.events.onReady=(t=>{A2D("YT Player is ready.")}),t.events.onError=(t=>{this.errorYT=!0,"2"==t.data&&t.target.stopVideo(),console.log(`[A2D] YT Error ${t.data}:`,this.err[t.data]?this.err[t.data]:"Unknown Error"),this.ended(!0)}),t.events.onPlaybackQualityChange=(t=>{var e=t.data;A2D("YT Quality: "+e)}),t.events.onStateChange=(t=>{switch(t.data){case 0:case 2:this.ended(!0);case-1:this.status(!1);break;case 1:try{var e=this.YTPlayer.playerInfo.videoData?this.YTPlayer.playerInfo.videoData.title:"unknow";A2D("YT Playing Title:",e),this.title(e)}catch(t){A2D("YT Playing Title: API Error",t)}case 3:this.status(!0);break;case 5:if(this.list){var i=this.command("getPlaylist");if(!Array.isArray(i))return!1;A2D("YT Playlist count:",i.length)}!this.errorYT&&this.YTStarted&&this.command("playVideo"),this.YTStarted||(this.status(!1),this.ended(!0))}A2D("YT Status:",this.state[t.data])}),t}load(t){var e={},i="";if(!t)return!1;if(void 0===t.id)return!1;var a=t.id;if(this.list=!1,"id"==t.type)e={videoId:a},i="cueVideoById";else{if("playlist"!=t.type)return!1;e={list:a,listType:"playlist",index:0},i="cuePlaylist",this.list=!0}this.YTStarted=!0,this.errorYT=!1,this.command(i,e)}command(t,e=null){if(A2D("YT Command:",t,e||""),!this.YTPlayer||!t)return!1;if("function"==typeof this.YTPlayer[t]){var i=this.YTPlayer[t](e);return"stopVideo"==t&&(this.YTStarted=!1),i&&"Y"==i.constructor.name&&(i=null),i}}}
